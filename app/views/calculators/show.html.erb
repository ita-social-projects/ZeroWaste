<div class="container place-items-center">
  <h1 class="text-4xl font-bold">Calculator <%= @calculator.name %></h1><br>

  <%= form_with url: calculate_calculator_path(@calculator) do |form| %>
    <% @calculator.fields.each do |field| %>
      <div class="space-y-4 form-inputs">
        <h1><%= form.label field.var_name, field.label %></h1>
        <% if field.kind == 'number' %>
          <%= form.number_field "inputs[#{field.var_name}]", placeholder: field.label %>
        <% else %>
          <%= form.select "inputs[#{field.var_name}]", options_from_collection_for_select(field.categories, :price, :name) %>
        <% end %>
      </div><br>
    <% end %>
    <div class="mt-6 form-actions">
      <%= form.submit "Calculate", class: "bg-blue-500 text-white font-semibold px-4 py-2 rounded hover:bg-blue-700" %>
    </div>
  <% end %>

  <%= turbo_frame_tag "calc-results" %>
</div>
